<!doctype html>
<head>
    <title>File download DevTest</title>
<link href="../static/css/download.css" rel="stylesheet" type="text/css">
</head>
<table>
    <tr>
        <td>
            <h1>File download Test</h1>
            <ul>
                <li style="margin-bottom: 5px"><a href="/assets/! 5Mb s!!__ _.bin">! 5Mb s!!__ _.bin</a></li>
                <li style="margin-bottom: 5px"><a href="/assets/5MB_DOC_File.doc">5MB_DOC_File.doc</a></li>
                <li style="margin-bottom: 5px"><a href="/assets/DOCX-5mB_File.docx">DOCX-5mB_File.docx</a></li>
                <li style="margin-bottom: 5px"><a href="/assets/This doc is protected with password.docx">This doc is protected with password.docx password 123</a></li>
                <li style="margin-bottom: 5px"><a href="/assets/This doc is protected with password.zip">This is zipped doc is protected with password.docx password 123</a></li>
                <li style="margin-bottom: 5px"><a href="/assets/Nested_compressed_file.zip">This is nested zip file - limitation test</a></li>
                <li style="margin-bottom: 5px"><a href="/assets/Sample_CSV_File.csv">This is sample CSV File</a></li>
                <li style="margin-bottom: 5px"><a href="/assets/Sample_DOC_File.doc">This is sample doc file</a></li>
                <li style="margin-bottom: 5px"><a href="/assets/Sample_ODS_File.ods">This is sampe ODS File</a></li>
                <li style="margin-bottom: 5px"><a href="/assets/Sample_ODT_File.odt">This is sample ODT File</a></li>
                <li style="margin-bottom: 5px"><a href="/assets/Sample_PPT_File.ppt">This is sample PPT File</a></li>
                <li style="margin-bottom: 5px"><a href="/assets/Sample_PUB_File.pub">This is sample PUB File</a></li>
                <li style="margin-bottom: 5px"><a href="/assets/Sample_RTF_File.rtf">This is sample RTF File</a></li>
                <li style="margin-bottom: 5px"><a href="/assets/Sample_VSD_File.vsd">This is sample VSD File</a></li>
                <li style="margin-bottom: 5px"><a href="/assets/Sample_XLS_File.xls">This is sample XLS File</a></li>
                <li style="margin-bottom: 5px"><a download href="/assets/Text under 4 kb.txt">This is sampe text file </a></li>
                <li style="margin-bottom: 5px"><a download href="/assets/Text large.txt">This is sample 2.59mb txt file</a></li>
                <li style="margin-bottom: 5px"><a download href="/assets/recommended.pac">This is sample pac txt file</a></li>
            </ul>
        </td>
          <h1>Sandbox Test Files - You are downloadoing malicious files at own risk</h1>
     <ul>
                <li style="margin-bottom: 5px"><a href="/assets/sample malicious files/64C3059610050000_64C3059700000000_1.docx">sample file</a></li>
         <li style="margin-bottom: 5px"><a href="/assets/sample malicious files/64C3059610050000_64C3059700000000_1.docx">sample file</a></li> 
         <li style="margin-bottom: 5px"><a download href="/assets/sample malicious files/64C3059610050000_64C3059700000000_2.docx">sample file</a></li> 
         <li style="margin-bottom: 5px"><a download href="/assets/sample malicious files/64C3059610050000_64C3059700000000_3.docx">sample file</a></li> 
         <li style="margin-bottom: 5px"><a downlaod href="/assets/sample malicious files/64C3059610050000_64C3059700000000_4.docx">sample file</a></li> 
         <li style="margin-bottom: 5px"><a downlaod href="/assets/sample malicious files/64C3059610050000_64C3059700000000_5.docx">sample file</a></li> 
         <li style="margin-bottom: 5px"><a downlaod href="/assets/sample malicious files/64C3059610050000_64C3059700000000_6.docx">sample file</a></li> 
         <li style="margin-bottom: 5px"><a download href="/assets/sample malicious files/64C3059610050000_64C3059700000000_7.docx">sample file</a></li> 
         <li style="margin-bottom: 5px"><a download href="/assets/sample malicious files/64C3059610050000_64C3059700000000_8.docx">sample file</a></li> 
         <li style="margin-bottom: 5px"><a download href="/assets/sample malicious files/64C3059610050000_64C3059700000000_9.docx">sample file</a></li> 
         <li style="margin-bottom: 5px"><a download href="/assets/sample malicious files/64C3059610050000_64C3059700000000_10.docx">sample file</a></li> 
         <li style="margin-bottom: 5px"><a download href="/assets/sample malicious files/64C3059610050000_64C3059700000000_11.docx">sample file</a></li> 
         <li style="margin-bottom: 5px"><a download href="/assets/sample malicious files/64C3059610050000_64C3059700000000_12.docx">sample file</a></li> 
         <li style="margin-bottom: 5px"><a download href="/assets/sample malicious files/_1.docx">sample file</a></li> 
         <li style="margin-bottom: 5px"><a href="/assets/sample malicious files/6486195910050000_6486196200000000.xlsm" download>sample bad file</a></li> 
  
<ul>
           
    </tr>
</table>
    
    <?php
$files = array(
    "malicious_download1.txt",
    "malicious_download2.txt"
);

foreach ($files as $file) {
    $filepath = "/assets/sample malicious files/" . $file;

    header('Content-Description: File Transfer');
    header('Content-Type: application/octet-stream');
    header('Content-Disposition: attachment; filename="' . $file . '"');
    header('Content-Transfer-Encoding: binary');
    header('Expires: 0');
    header('Cache-Control: must-revalidate');
    header('Pragma: public');
    header('Content-Length: ' . filesize($filepath));
    ob_clean();
    flush();
    readfile($filepath);
    exit;
}
?>
